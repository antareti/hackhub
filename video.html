<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>–í–∏–¥–µ–æ | HackHub</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Roboto:wght@400;700&display=swap');

        :root {
            --primary-color: #ff6600;
            --secondary-color: #e65c00;
            --background-dark: #121212; /* –ï–¥–∏–Ω—ã–π —Ñ–æ–Ω */
            --background-light: #1e1e1e; /* –¶–≤–µ—Ç –∫–∞—Ä—Ç–æ—á–µ–∫ */
            --text-color: #eee;
            --header-bg: linear-gradient(90deg, #000000, #1a1a1a, #000000);
            --card-shadow: rgba(255, 102, 0, 0.4);
            --focus-shadow: rgba(255, 102, 0, 0.7);
        }

        body {
            margin: 0;
            font-family: 'Roboto', Arial, sans-serif;
            background-color: var(--background-dark);
            color: var(--text-color);
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
            line-height: 1.6;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Montserrat', sans-serif;
            color: var(--primary-color);
        }

        /* Video Background */
        .smoke-video {
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            object-fit: cover;
            opacity: 0.2; /* –ï–¥–∏–Ω–∞—è –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å */
            z-index: -1;
            pointer-events: none;
        }

        /* Spotlight effect */
        .spotlight {
            position: fixed;
            top: -20%;
            width: 60vw;
            height: 160vh;
            background: radial-gradient(ellipse at center, rgba(255,255,255,0.08) 0%, transparent 70%);
            pointer-events: none;
            mix-blend-mode: screen;
            z-index: 0;
            transform-origin: center;
            animation: spin 25s linear infinite;
        }
        .spotlight.left {
            left: -20vw;
        }
        .spotlight.right {
            right: -20vw;
            animation-direction: reverse;
        }

        @keyframes spin {
            0% { transform: rotate(0deg) translateX(0); }
            100% { transform: rotate(360deg) translateX(0); }
        }

        /* Cursor Light */
        #cursor-light {
            position: fixed;
            top: 0;
            left: 0;
            width: 180px;
            height: 180px;
            pointer-events: none;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255,102,0,0.5) 0%, rgba(255,102,0,0) 60%);
            filter: blur(40px);
            transform: translate(-50%, -50%);
            z-index: 9999;
            will-change: transform;
        }

        /* Header */
        header {
            background: var(--header-bg);
            padding: 20px 30px;
            display: flex;
            align-items: center;
            justify-content: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ */
            box-shadow: 0 0 25px var(--focus-shadow);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .header-title {
            font-family: 'Montserrat', sans-serif;
            font-size: 40px;
            font-weight: 900;
            color: var(--primary-color);
            text-shadow: 0 0 10px var(--primary-color);
            margin: 0 auto; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Ç–µ–∫—Å—Ç */
        }
        .header-title span {
            color: var(--text-color);
        }

        .home-link {
            position: absolute;
            top: 50%;
            left: 30px;
            transform: translateY(-50%);
            font-size: 17px; /* –ë–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä */
            color: var(--background-dark); /* –¢–µ–º–Ω—ã–π —Ç–µ–∫—Å—Ç –Ω–∞ –æ—Ä–∞–Ω–∂–µ–≤–æ–º —Ñ–æ–Ω–µ */
            background-color: var(--primary-color);
            padding: 8px 16px; /* –ë–æ–ª—å—à–µ –ø–∞–¥–¥–∏–Ω–≥ */
            border-radius: 25px; /* –ë–æ–ª–µ–µ –æ–∫—Ä—É–≥–ª—ã–π */
            text-decoration: none;
            transition: background 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            z-index: 110;
            display: flex;
            align-items: center;
            gap: 8px; /* –ü—Ä–æ–º–µ–∂—É—Ç–æ–∫ –º–µ–∂–¥—É –∏–∫–æ–Ω–∫–æ–π –∏ —Ç–µ–∫—Å—Ç–æ–º */
            font-weight: bold;
        }

        .home-link:hover {
            background-color: var(--secondary-color);
            transform: translateY(-50%) scale(1.05); /* –õ–µ–≥–∫–æ–µ —É–≤–µ–ª–∏—á–µ–Ω–∏–µ */
            box-shadow: 0 0 15px var(--primary-color);
        }

        /* Search Section */
        .search-container {
            text-align: center;
            padding: 30px 20px; /* –ë–æ–ª—å—à–µ –ø–∞–¥–¥–∏–Ω–≥ */
            background-color: #1a1a1a; /* –§–æ–Ω –¥–ª—è —Å–µ–∫—Ü–∏–∏ –ø–æ–∏—Å–∫–∞ */
            box-shadow: inset 0 -2px 0 #333;
            position: relative;
            z-index: 5;
        }

        #videoSearch {
            width: 90%;
            max-width: 500px; /* –®–∏—Ä–µ –ø–æ–ª–µ –ø–æ–∏—Å–∫–∞ */
            padding: 14px 25px; /* –ë–æ–ª—å—à–µ –ø–∞–¥–¥–∏–Ω–≥ */
            border-radius: 30px; /* –ë–æ–ª–µ–µ –æ–∫—Ä—É–≥–ª—ã–π */
            border: 2px solid var(--primary-color);
            background-color: #2a2a2a; /* –¢–µ–º–Ω–µ–µ —Ñ–æ–Ω –ø–æ–ª—è */
            color: var(--text-color);
            font-size: 18px; /* –ë–æ–ª—å—à–µ —à—Ä–∏—Ñ—Ç */
            outline: none;
            transition: border-color 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
        }

        #videoSearch::placeholder {
            color: rgba(255, 255, 255, 0.7);
        }

        #videoSearch:focus {
            border-color: var(--secondary-color);
            box-shadow: 0 0 15px var(--primary-color);
            background-color: #222; /* –ß—É—Ç—å —Å–≤–µ—Ç–ª–µ–µ –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ */
        }

        /* Video Gallery */
        .video-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr)); /* –ß—É—Ç—å –±–æ–ª—å—à–µ –º–∏–Ω. —Ä–∞–∑–º–µ—Ä */
            gap: 25px; /* –£–≤–µ–ª–∏—á–µ–Ω –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ */
            padding: 40px 30px; /* –ë–æ–ª—å—à–µ –ø–∞–¥–¥–∏–Ω–≥ */
            max-width: 1300px; /* –®–∏—Ä–µ –≥–∞–ª–µ—Ä–µ—è */
            margin: 0 auto 50px;
            position: relative;
            z-index: 5;
        }

        .video-wrapper {
            background-color: var(--background-light); /* –§–æ–Ω –∫–∞—Ä—Ç–æ—á–∫–∏ */
            border: 3px solid var(--primary-color);
            border-radius: 15px; /* –ë–æ–ª—å—à–µ —Ä–∞–¥–∏—É—Å */
            box-shadow: 0 0 20px var(--card-shadow); /* –ë–æ–ª–µ–µ –∑–∞–º–µ—Ç–Ω–∞—è —Ç–µ–Ω—å */
            overflow: hidden;
            display: flex;
            flex-direction: column;
            transform: scale(1);
            opacity: 1;
            transition: transform 0.3s ease-out, opacity 0.3s ease-out, box-shadow 0.3s ease, border-color 0.3s ease;
            cursor: pointer;
        }

        .video-wrapper:hover {
            transform: translateY(-8px) scale(1.02); /* –ë–æ–ª–µ–µ –≤—ã—Ä–∞–∂–µ–Ω–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
            box-shadow: 0 8px 30px var(--focus-shadow); /* –£—Å–∏–ª–µ–Ω–∏–µ —Ç–µ–Ω–∏ */
            border-color: var(--secondary-color); /* –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ü–≤–µ—Ç–∞ —Ä–∞–º–∫–∏ */
        }

        .video-wrapper.opening {
            transform: scale(0.8); /* –ë–æ–ª–µ–µ –∑–∞–º–µ—Ç–Ω–∞—è –Ω–∞—á–∞–ª—å–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è */
            opacity: 0;
        }

        .video-wrapper.closing {
            transform: scale(0.7); /* –ë–æ–ª–µ–µ –∑–∞–º–µ—Ç–Ω–∞—è –∞–Ω–∏–º–∞—Ü–∏—è –∑–∞–∫—Ä—ã—Ç–∏—è */
            opacity: 0;
        }

        .video-wrapper h3 {
            background-color: #222; /* –§–æ–Ω –∑–∞–≥–æ–ª–æ–≤–∫–∞ –≤–Ω—É—Ç—Ä–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ */
            color: var(--primary-color);
            padding: 15px 20px; /* –ë–æ–ª—å—à–µ –ø–∞–¥–¥–∏–Ω–≥ */
            margin: 0;
            font-size: 20px; /* –ë–æ–ª—å—à–µ —à—Ä–∏—Ñ—Ç */
            text-align: center;
            border-top: 1px solid var(--border-color);
            word-break: break-word;
            min-height: 50px; /* –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–∞ */
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        video {
            width: 100%;
            height: 200px; /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –≤–∏–¥–µ–æ, —á—Ç–æ–±—ã –∫–∞—Ä—Ç–æ—á–∫–∏ –±—ã–ª–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ */
            object-fit: cover; /* –û–±—Ä–µ–∑–∞—Ç—å –≤–∏–¥–µ–æ, —á—Ç–æ–±—ã –æ–Ω–æ –ø–æ–º–µ—â–∞–ª–æ—Å—å */
            display: block;
            background: #000;
            border-bottom: 1px solid #333;
        }

        .error {
            text-align: center;
            color: var(--error-color);
            padding: 30px;
            font-weight: bold;
            font-size: 20px;
            grid-column: 1 / -1;
            background-color: #222;
            border-radius: 12px;
            box-shadow: 0 0 15px rgba(244, 68, 68, 0.5);
            margin: 20px auto;
            max-width: 600px;
        }

        /* Skeleton Loaders */
        .skeleton {
            background-color: #1a1a1a;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 0 15px rgba(255, 102, 0, 0.2);
            position: relative;
            animation: pulse 1.5s infinite ease-in-out;
            height: 250px; /* –ü—Ä–∏–º–µ—Ä–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –≤–∏–¥–µ–æ–∫–∞—Ä—Ç–æ—á–∫–∏ */
            display: flex;
            flex-direction: column;
        }

        .skeleton-video {
            width: 100%;
            height: 180px;
            background: linear-gradient(-45deg, #2a2a2a 25%, #333 50%, #2a2a2a 75%);
            background-size: 400% 100%;
            animation: loading-gradient 1.5s infinite linear;
        }

        .skeleton-title {
            height: 30px; /* –ß—É—Ç—å –±–æ–ª—å—à–µ */
            margin: 15px; /* –ë–æ–ª—å—à–µ –æ—Ç—Å—Ç—É–ø—ã */
            background: linear-gradient(-45deg, #2a2a2a 25%, #333 50%, #2a2a2a 75%);
            background-size: 400% 100%;
            animation: loading-gradient 1.5s infinite linear;
            border-radius: 6px;
        }

        @keyframes pulse {
            0% { opacity: 0.7; }
            50% { opacity: 1; }
            100% { opacity: 0.7; }
        }

        @keyframes loading-gradient {
            0% { background-position: 100% 0; }
            100% { background-position: -100% 0; }
        }

        /* Scroll to Top Button */
        #scrollToTopBtn {
            display: none;
            position: fixed;
            bottom: 30px;
            right: 30px;
            z-index: 99;
            font-size: 26px; /* –ë–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä */
            background-color: var(--primary-color);
            color: var(--text-color);
            border: none;
            border-radius: 50%;
            width: 55px; /* –ë–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä */
            height: 55px; /* –ë–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä */
            cursor: pointer;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.4);
            transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
            display: flex;
            justify-content: center;
            align-items: center;
        }

        #scrollToTopBtn:hover {
            background-color: var(--secondary-color);
            transform: translateY(-5px) scale(1.1); /* –ë–æ–ª–µ–µ –≤—ã—Ä–∞–∂–µ–Ω–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç */
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.6);
        }

        /* Media Queries for Responsiveness */
        @media (max-width: 1024px) {
            .video-gallery {
                grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
                padding: 30px 20px;
            }
            .header-title {
                font-size: 36px;
            }
            .home-link {
                left: 20px;
                font-size: 16px;
                padding: 7px 14px;
            }
            #videoSearch {
                max-width: 450px;
                font-size: 16px;
                padding: 12px 20px;
            }
        }

        @media (max-width: 768px) {
            .smoke-video {
                display: none; /* –û—Ç–∫–ª—é—á–∞–µ–º –≤–∏–¥–µ–æ—Ñ–æ–Ω –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
            }
            header {
                flex-direction: column;
                padding: 15px 20px;
                text-align: center;
            }
            .header-title {
                font-size: 30px;
                margin-top: 10px; /* –û—Ç—Å—Ç—É–ø –æ—Ç –∫–Ω–æ–ø–∫–∏ */
            }
            .home-link {
                position: static; /* –í–æ–∑–≤—Ä–∞—â–∞–µ–º –≤ –ø–æ—Ç–æ–∫ */
                transform: none;
                margin-bottom: 15px; /* –û—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É */
                width: calc(100% - 40px); /* –ü–æ–ª–Ω–∞—è —à–∏—Ä–∏–Ω–∞ —Å –ø–∞–¥–¥–∏–Ω–≥–∞–º–∏ */
                justify-content: center; /* –¶–µ–Ω—Ç—Ä–∏—Ä—É–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ */
            }
            .search-container {
                padding: 20px 15px;
            }
            #videoSearch {
                width: 100%;
                font-size: 15px;
                padding: 10px 15px;
            }
            .video-gallery {
                grid-template-columns: 1fr; /* –û–¥–Ω–∞ –∫–æ–ª–æ–Ω–∫–∞ –Ω–∞ –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
                padding: 20px 15px;
                gap: 20px;
            }
            .video-wrapper h3 {
                font-size: 18px;
                padding: 12px 15px;
            }
            video {
                height: 180px;
            }
            #scrollToTopBtn {
                bottom: 20px;
                right: 20px;
                width: 50px;
                height: 50px;
                font-size: 22px;
            }
            .error {
                font-size: 16px;
                padding: 15px;
            }
        }

        @media (max-width: 480px) {
            .header-title {
                font-size: 24px;
            }
            .home-link {
                font-size: 14px;
                padding: 6px 12px;
                gap: 6px;
            }
            #videoSearch {
                font-size: 14px;
                padding: 8px 12px;
            }
            .video-gallery {
                padding: 15px 10px;
                gap: 15px;
            }
            .video-wrapper h3 {
                font-size: 16px;
                padding: 10px;
            }
            video {
                height: 160px;
            }
            .skeleton {
                height: 220px;
            }
            .skeleton-video {
                height: 150px;
            }
            .skeleton-title {
                height: 25px;
                margin: 10px;
            }
            #scrollToTopBtn {
                width: 45px;
                height: 45px;
                font-size: 20px;
            }
        }
    </style>
</head>
<body>

    <video class="smoke-video" autoplay loop muted playsinline preload="none">
        <source src="https://raw.githubusercontent.com/antareti/hackhub/main/smoke-loop.mp4" type="video/mp4" />
    </video>

    <div class="spotlight left"></div>
    <div class="spotlight right"></div>

    <div id="cursor-light"></div>

    <header>
        <a href="index.html" class="home-link">
            <i class="fas fa-home"></i> –ì–ª–∞–≤–Ω–∞—è
        </a>
        <div class="header-title">üé• –í–∏–¥–µ–æ–≥–∞–ª–µ—Ä–µ—è <span>HackHub</span></div>
    </header>

    <div class="search-container">
        <input type="text" id="videoSearch" placeholder="–ü–æ–∏—Å–∫ –≤–∏–¥–µ–æ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é...">
    </div>

    <section class="video-gallery" id="videoGallery">
        <div class="skeleton"><div class="skeleton-video"></div><div class="skeleton-title"></div></div>
        <div class="skeleton"><div class="skeleton-video"></div><div class="skeleton-title"></div></div>
        <div class="skeleton"><div class="skeleton-video"></div><div class="skeleton-title"></div></div>
        <div class="skeleton"><div class="skeleton-video"></div><div class="skeleton-title"></div></div>
    </section>

    <button id="scrollToTopBtn" title="–ù–∞–≤–µ—Ä—Ö">
        <i class="fas fa-arrow-up"></i>
    </button>

    <audio id="showerSound" src="5.mp3" preload="auto"></audio>

    <script>
        (function() {
            const repoOwner = "antareti";
            const repoName = "hackhub";
            const folderPath = "videos";

            const gallery = document.getElementById("videoGallery");
            const videoSearchInput = document.getElementById("videoSearch");
            const scrollToTopBtn = document.getElementById("scrollToTopBtn");
            const showerSound = document.getElementById("showerSound");
            const cursorLight = document.getElementById('cursor-light'); // –î–ª—è –ø–ª–∞–≤–∞—é—â–µ–≥–æ —Å–≤–µ—Ç–∞

            // –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∂–µ–ª–∞–µ–º—É—é –≥—Ä–æ–º–∫–æ—Å—Ç—å –¥–ª—è –∑–≤—É–∫–∞ –¥—É—à–∞ (–æ—Ç 0.0 –¥–æ 1.0)
            showerSound.volume = 0.2; // –ù–µ–º–Ω–æ–≥–æ —Ç–∏—à–µ, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ —Å–ª–∏—à–∫–æ–º –≥—Ä–æ–º–∫–æ

            let allVideoData = [];

            // –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ –∏–º–µ–Ω
            const videoNames = [
                "–°—Ç—Ä–∏—Ç-–∞—Ä—Ç –º–µ–≥–∞–ø–æ–ª–∏—Å–∞: –ì—Ä–∞—Ñ—Ñ–∏—Ç–∏ –∏ —Ä–∏—Ç–º—ã –≥–æ—Ä–æ–¥–∞",
                "–¢–∞–π–Ω—ã –∑–∞–±—Ä–æ—à–µ–Ω–Ω–æ–≥–æ –∑–∞–≤–æ–¥–∞: –ò–Ω–¥—É—Å—Ç—Ä–∏–∞–ª—å–Ω—ã–π —ç–∫—Å–ø–ª–æ—Ä–∏–Ω–≥",
                "–ö–æ—Å–º–∏—á–µ—Å–∫–∏–µ –ø–µ–π–∑–∞–∂–∏: –ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ —Å–∫–≤–æ–∑—å –≥–∞–ª–∞–∫—Ç–∏–∫–∏",
                "–ì–ª—É–±–∏–Ω—ã –æ–∫–µ–∞–Ω–∞: –ñ–∏–∑–Ω—å –ø–æ–¥–≤–æ–¥–Ω–æ–≥–æ –º–∏—Ä–∞",
                "–ö–∏–±–µ—Ä–ø–∞–Ω–∫-–Ω–æ—á—å: –ù–µ–æ–Ω–æ–≤—ã–µ –æ–≥–Ω–∏ –∏ –≤—ã—Å–æ–∫–∏–µ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–∏",
                "–ú–∞–≥–∏—è –ø—Ä–∏—Ä–æ–¥—ã: –í–æ–¥–æ–ø–∞–¥—ã –∏ –≥–æ—Ä–Ω—ã–µ –≤–µ—Ä—à–∏–Ω—ã",
                "–î—Ä–µ–≤–Ω–∏–µ —Ä—É–∏–Ω—ã: –ó–∞–±—ã—Ç—ã–µ —Ü–∏–≤–∏–ª–∏–∑–∞—Ü–∏–∏",
                "–ì–æ—Ä–æ–¥ –≤ –¥–≤–∏–∂–µ–Ω–∏–∏: –¢–∞–π–º–ª–∞–ø—Å –±–æ–ª—å—à–æ–≥–æ –≥–æ—Ä–æ–¥–∞",
                "–ö—É–ª–∏–Ω–∞—Ä–Ω–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ: –û—Ç —Ñ–µ—Ä–º—ã –¥–æ —Å—Ç–æ–ª–∞",
                "–≠–∫—Å—Ç—Ä–µ–º–∞–ª—å–Ω—ã–π —Å–ø–æ—Ä—Ç: –ê–¥—Ä–µ–Ω–∞–ª–∏–Ω –∏ —Å–º–µ–ª–æ—Å—Ç—å",
                "–ò—Å–∫—É—Å—Å—Ç–≤–æ —Å–≤–µ—Ç–∞: –ù–µ–æ–Ω–æ–≤—ã–µ –∏–Ω—Å—Ç–∞–ª–ª—è—Ü–∏–∏",
                "–ó–∏–º–Ω—è—è —Å–∫–∞–∑–∫–∞: –ó–∞—Å–Ω–µ–∂–µ–Ω–Ω—ã–µ –ª–µ—Å–∞ –∏ –≥–æ—Ä—ã",
                "–õ–µ—Ç–Ω–∏–π –≤–∞–π–±: –°–æ–ª–Ω—Ü–µ, –º–æ—Ä–µ –∏ –ø–µ—Å–æ–∫",
                "–ú–∏–∫—Ä–æ–º–∏—Ä: –£–¥–∏–≤–∏—Ç–µ–ª—å–Ω—ã–µ –æ—Ç–∫—Ä—ã—Ç–∏—è –ø–æ–¥ –º–∏–∫—Ä–æ—Å–∫–æ–ø–æ–º",
                "–ú—É–∑—ã–∫–∞–ª—å–Ω–∞—è –∏–º–ø—Ä–æ–≤–∏–∑–∞—Ü–∏—è: –ó–≤—É–∫–∏ —Å–≤–æ–±–æ–¥—ã",
                "–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏–µ –≤–æ –≤—Ä–µ–º–µ–Ω–∏: –ò—Å—Ç–æ—Ä–∏—è –≤ –¥–µ—Ç–∞–ª—è—Ö",
                "–§—É—Ç—É—Ä–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –≥–æ—Ä–æ–¥–∞: –ö–∞–∫ –º—ã –±—É–¥–µ–º –∂–∏—Ç—å –∑–∞–≤—Ç—Ä–∞",
                "–ó–∞–∫—É–ª–∏—Å—å–µ –Ω–∞—É–∫–∏: –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã –∏ –æ—Ç–∫—Ä—ã—Ç–∏—è",
                "–ú–∏—Å—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Å—Ç–∞: –õ–µ–≥–µ–Ω–¥—ã –∏ –ø—Ä–µ–¥–∞–Ω–∏—è",
                "–í —Ä–∏—Ç–º–µ —Ç–∞–Ω—Ü–∞: –≠–∫—Å–ø—Ä–µ—Å—Å–∏—è –¥–≤–∏–∂–µ–Ω–∏—è",
                "–ù–æ—á–Ω—ã–µ –æ–≥–Ω–∏ —Å –ê—Ä—Ç–µ–º–æ–º: –ì–æ—Ä–æ–¥, –∫–æ—Ç–æ—Ä—ã–π –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ —Å–ø–∏—Ç",
                "–¢–∏—Ö–∏–µ –≤–µ—á–µ—Ä–∞ —Å –°–æ—Ñ–∏–µ–π: –£—é—Ç –∏ —Ä–∞–∑–º—ã—à–ª–µ–Ω–∏—è",
                "–í–∫—É—Å–Ω—ã–µ —Ä–µ—Ü–µ–ø—Ç—ã —Å –ï–≤–æ–π: –ö—É–ª–∏–Ω–∞—Ä–Ω–æ–µ –≤–¥–æ—Ö–Ω–æ–≤–µ–Ω–∏–µ",
                "–ò—Å—Ç–æ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞ —Å –ö–∏—Ä–∏–ª–ª–æ–º: –ü—É—Ç—å –∫ –≤–µ—Ä—à–∏–Ω–µ",
                "–ê—Ç–º–æ—Å—Ñ–µ—Ä–∞ —Å—Ç–∞—Ä–æ–≥–æ –≥–æ—Ä–æ–¥–∞: –ü—Ä–æ–≥—É–ª–∫–∞ –ø–æ –º–æ—â–µ–Ω—ã–º —É–ª–∏—Ü–∞–º",
                "–ù–µ–±–æ –≤ –æ–≥–Ω–µ: –ó–∞–∫–∞—Ç—ã –∏ —Ä–∞—Å—Å–≤–µ—Ç—ã –º–∏—Ä–∞",
                "–ê–≤—Ç–æ–º–æ–±–∏–ª–∏ –±—É–¥—É—â–µ–≥–æ: –ò–Ω–Ω–æ–≤–∞—Ü–∏–∏ –∏ —Å–∫–æ—Ä–æ—Å—Ç—å",
                "–≠–∫–æ-–∂–∏–∑–Ω—å: –ì–∞—Ä–º–æ–Ω–∏—è —Å –ø—Ä–∏—Ä–æ–¥–æ–π",
                "–î–∏–∫–∞—è –ø—Ä–∏—Ä–æ–¥–∞: –í—Å—Ç—Ä–µ—á–∏ —Å –∂–∏–≤–æ—Ç–Ω—ã–º–∏",
                "–¶–∏—Ñ—Ä–æ–≤–æ–µ –∏—Å–∫—É—Å—Å—Ç–≤–æ: –ù–æ–≤—ã–µ –≥–æ—Ä–∏–∑–æ–Ω—Ç—ã –∫—Ä–µ–∞—Ç–∏–≤–∞"
            ];

            function getRandomVideoName() {
                const randomIndex = Math.floor(Math.random() * videoNames.length);
                return videoNames[randomIndex];
            }

            const observer = new IntersectionObserver(entries => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const video = entry.target;
                        if (video.dataset.src) {
                            video.src = video.dataset.src;
                            video.load();
                            // Optional: auto-play when in view, if desired, but user interaction is usually better.
                            // video.play().catch(e => console.error("Video autoplay failed:", e));
                            observer.unobserve(video);

                            const wrapper = video.closest('.video-wrapper');
                            if (wrapper && wrapper.classList.contains('opening')) {
                                setTimeout(() => {
                                    wrapper.classList.remove('opening');
                                }, 50); // Small delay to let src load before removing class
                            }
                        }
                    }
                });
            }, {
                rootMargin: "150px", // –£–≤–µ–ª–∏—á–µ–Ω–∞ –æ–±–ª–∞—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏
                threshold: 0.05 // –í–∏–¥–µ–æ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è, –∫–æ–≥–¥–∞ 5% –µ–≥–æ –≤–∏–¥–Ω–æ
            });

            function createVideoCard(file) {
                const wrapper = document.createElement("div");
                wrapper.className = "video-wrapper opening"; // –î–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –ø–æ—è–≤–ª–µ–Ω–∏—è

                const video = document.createElement("video");
                video.controls = true;
                video.preload = "none"; // –ù–µ –∑–∞–≥—Ä—É–∂–∞–µ–º –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —Å—Ä–∞–∑—É
                video.setAttribute("playsinline", "");
                video.loop = true; // –í–∏–¥–µ–æ –±—É–¥–µ—Ç –∑–∞—Ü–∏–∫–ª–µ–Ω–æ

                const videoUrl = `https://raw.githubusercontent.com/${repoOwner}/${repoName}/main/${folderPath}/${file.name}`;
                video.dataset.src = videoUrl; // –ò—Å–ø–æ–ª—å–∑—É–µ–º data-src –¥–ª—è –ª–µ–Ω–∏–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–∏

                const titleElement = document.createElement("h3");
                titleElement.textContent = getRandomVideoName();
                file.displayTitle = titleElement.textContent; // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–∞–µ–º–æ–µ –∏–º—è –¥–ª—è –ø–æ–∏—Å–∫–∞

                wrapper.appendChild(video);
                wrapper.appendChild(titleElement);

                // Event listeners for video play/pause to control shower sound
                video.addEventListener('play', () => {
                    // Stop any currently playing shower sound to prevent overlaps
                    if (!showerSound.paused) {
                        showerSound.pause();
                        showerSound.currentTime = 0;
                    }
                    // Play the sound
                    showerSound.play().catch(e => console.error("Error playing shower sound:", e));
                });

                video.addEventListener('pause', () => {
                    // Pause the shower sound when video is paused
                    showerSound.pause();
                    showerSound.currentTime = 0; // Reset sound to beginning
                });

                // Double click to remove (now with improved animation)
                wrapper.addEventListener('dblclick', () => {
                    wrapper.classList.add('closing'); // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∑–∞–∫—Ä—ã—Ç–∏—è
                    video.pause(); // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –≤–∏–¥–µ–æ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏
                    showerSound.pause(); // –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–≤—É–∫
                    showerSound.currentTime = 0;

                    wrapper.addEventListener('transitionend', function handler() {
                        wrapper.remove(); // –£–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏
                        wrapper.removeEventListener('transitionend', handler);
                    });
                });

                observer.observe(video); // –ù–∞—á–∏–Ω–∞–µ–º –Ω–∞–±–ª—é–¥–µ–Ω–∏–µ –∑–∞ –≤–∏–¥–µ–æ—ç–ª–µ–º–µ–Ω—Ç–æ–º
                return wrapper;
            }

            function displayVideos(videosToDisplay) {
                gallery.innerHTML = ''; // –û—á–∏—â–∞–µ–º –≥–∞–ª–µ—Ä–µ—é
                if (videosToDisplay.length === 0) {
                    gallery.innerHTML = '<p class="error">–ö —Å–æ–∂–∞–ª–µ–Ω–∏—é, –ø–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –≤–∏–¥–µ–æ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥–æ–π –∑–∞–ø—Ä–æ—Å –∏–ª–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–∏—Ç–µ –≤—Å—é –∫–æ–ª–ª–µ–∫—Ü–∏—é!</p>';
                    return;
                }

                videosToDisplay.forEach(file => {
                    const videoCard = createVideoCard(file);
                    gallery.appendChild(videoCard);
                });
            }

            // Fetch video data from GitHub
            fetch(`https://api.github.com/repos/${repoOwner}/${repoName}/contents/${folderPath}`)
                .then(response => {
                    if (!response.ok) {
                        if (response.status === 404) {
                            throw new Error("–ü–∞–ø–∫–∞ —Å –≤–∏–¥–µ–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—É—Ç—å.");
                        }
                        throw new Error(`HTTP error: ${response.status} ${response.statusText}`);
                    }
                    return response.json();
                })
                .then(data => {
                    if (!Array.isArray(data)) {
                        throw new Error("–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö –æ—Ç GitHub API.");
                    }

                    allVideoData = data.filter(file => /\.(mp4|webm|ogg)$/i.test(file.name));

                    if (allVideoData.length === 0) {
                        gallery.innerHTML = '<p class="error">–í –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤–∏–¥–µ–æ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç. –ú—ã —Å–∫–æ—Ä–æ –¥–æ–±–∞–≤–∏–º –Ω–æ–≤—ã–µ!</p>';
                        return;
                    }

                    displayVideos(allVideoData); // –û—Ç–æ–±—Ä–∞–∂–∞–µ–º –≤—Å–µ –≤–∏–¥–µ–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ
                })
                .catch(err => {
                    console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –≤–∏–¥–µ–æ:", err);
                    gallery.innerHTML = `<p class="error">–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –≤–∏–¥–µ–æ: ${err.message}. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –æ–±–Ω–æ–≤–∏—Ç—å —Å—Ç—Ä–∞–Ω–∏—Ü—É.</p>`;
                });

            // Search functionality
            videoSearchInput.addEventListener('input', (event) => {
                const searchTerm = event.target.value.toLowerCase().trim();
                const filteredVideos = allVideoData.filter(file =>
                    file.displayTitle && file.displayTitle.toLowerCase().includes(searchTerm)
                );
                displayVideos(filteredVideos);
            });

            // Scroll to top button logic
            window.addEventListener('scroll', () => {
                if (window.scrollY > 300) {
                    scrollToTopBtn.style.display = "flex";
                } else {
                    scrollToTopBtn.style.display = "none";
                }
            });

            scrollToTopBtn.addEventListener('click', () => {
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            });

            // Cursor light functionality
            window.addEventListener('mousemove', e => {
                cursorLight.style.top = e.clientY + 'px';
                cursorLight.style.left = e.clientX + 'px';
            });

        })();
    </script>

</body>
</html>
