<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>HackHub Gallery</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Roboto:wght@400;700&display=swap');

        :root {
            --primary-color: #ff6600;
            --secondary-color: #121212;
            --light-text-color: #eee;
            --dark-text-color: #121212;
            --card-bg: #1e1e1e;
            --header-bg: linear-gradient(90deg, #000000, #1a1a1a, #000000);
        }

        body {
            margin: 0;
            background-color: var(--secondary-color);
            color: var(--light-text-color);
            font-family: 'Roboto', Arial, sans-serif; /* –ò–∑–º–µ–Ω–µ–Ω –æ—Å–Ω–æ–≤–Ω–æ–π —à—Ä–∏—Ñ—Ç */
            overflow-x: hidden;
            line-height: 1.6;
        }

        h1, h2, h3, h4, h5, h6 {
            font-family: 'Montserrat', sans-serif;
            color: var(--primary-color);
        }

        /* Disclaimer and background effects */
        #disclaimer {
            position: fixed;
            z-index: 10000;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: #000;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: opacity 1s ease;
        }
        #disclaimer img {
            max-width: 90%;
            max-height: 90%;
            border-radius: 20px;
            box-shadow: 0 0 40px var(--primary-color);
        }
        #disclaimer.fade-out {
            opacity: 0;
            pointer-events: none;
        }

        .smoke-video {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            object-fit: cover;
            opacity: 0.2; /* –£–º–µ–Ω—å—à–µ–Ω–∞ –ø—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å */
            z-index: -1;
        }

        .spotlight {
            position: fixed;
            top: -20%;
            width: 60vw;
            height: 160vh;
            background: radial-gradient(ellipse at center, rgba(255,255,255,0.08) 0%, transparent 70%); /* –ù–µ–º–Ω–æ–≥–æ –ø—Ä–∏–≥–ª—É—à–µ–Ω–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç */
            pointer-events: none;
            mix-blend-mode: screen;
            z-index: 0;
            transform-origin: center;
            animation: spin 25s linear infinite; /* –ù–µ–º–Ω–æ–≥–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ */
        }
        .spotlight.left {
            left: -20vw;
        }
        .spotlight.right {
            right: -20vw;
            animation-direction: reverse;
        }

        @keyframes spin {
            0% { transform: rotate(0deg) translateX(0); }
            100% { transform: rotate(360deg) translateX(0); }
        }

        #cursor-light {
            position: fixed;
            top: 0;
            left: 0;
            width: 180px; /* –ë–æ–ª—å—à–µ —Ä–∞–¥–∏—É—Å */
            height: 180px; /* –ë–æ–ª—å—à–µ —Ä–∞–¥–∏—É—Å */
            pointer-events: none;
            border-radius: 50%;
            background: radial-gradient(circle, rgba(255,102,0,0.5) 0%, rgba(255,102,0,0) 60%); /* –Ø—Ä—á–µ —Ü–≤–µ—Ç */
            filter: blur(40px); /* –°–∏–ª—å–Ω–µ–µ —Ä–∞–∑–º—ã—Ç–∏–µ */
            transform: translate(-50%, -50%);
            z-index: 9999;
            will-change: transform;
        }

        /* Header */
        header {
            background: var(--header-bg);
            padding: 20px 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 0 25px rgba(255, 102, 0, 0.7); /* –ë–æ–ª–µ–µ –≤—ã—Ä–∞–∂–µ–Ω–Ω–∞—è —Ç–µ–Ω—å */
            position: sticky;
            top: 0;
            z-index: 100;
            flex-wrap: wrap; /* –î–ª—è –∞–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç–∏ */
            gap: 15px; /* –ü—Ä–æ–º–µ–∂—É—Ç–æ–∫ –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ */
        }
        .logo {
            font-family: 'Montserrat', sans-serif;
            font-size: 44px; /* –ë–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä */
            font-weight: 900;
            color: #fff;
            cursor: default;
            text-shadow: 0 0 10px var(--primary-color);
        }
        .logo span {
            background-color: var(--primary-color);
            padding: 0 12px; /* –£–≤–µ–ª–∏—á–µ–Ω –ø–∞–¥–¥–∏–Ω–≥ */
            color: var(--dark-text-color);
            border-radius: 8px; /* –ë–æ–ª—å—à–∏–π —Ä–∞–¥–∏—É—Å */
            box-shadow: 0 0 12px var(--primary-color);
        }
        .search input {
            padding: 12px 20px; /* –£–≤–µ–ª–∏—á–µ–Ω –ø–∞–¥–¥–∏–Ω–≥ */
            width: 350px; /* –£–≤–µ–ª–∏—á–µ–Ω–∞ —à–∏—Ä–∏–Ω–∞ */
            border-radius: 30px;
            border: 2px solid var(--primary-color);
            background-color: #222;
            color: var(--light-text-color);
            font-size: 18px; /* –£–≤–µ–ª–∏—á–µ–Ω —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
            transition: all 0.3s ease;
        }
        .search input:focus {
            box-shadow: 0 0 15px var(--primary-color);
            border-color: #ff8800;
            outline: none;
        }
        .logout-btn {
            background: none;
            border: 2px solid var(--primary-color);
            color: var(--primary-color);
            padding: 10px 22px; /* –£–≤–µ–ª–∏—á–µ–Ω –ø–∞–¥–¥–∏–Ω–≥ */
            border-radius: 25px; /* –ë–æ–ª—å—à–∏–π —Ä–∞–¥–∏—É—Å */
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s ease;
            font-size: 16px;
        }
        .logout-btn:hover {
            background-color: var(--primary-color);
            color: var(--dark-text-color);
            box-shadow: 0 0 15px var(--primary-color);
        }

        /* Online Users Counter */
        .online-users-container {
            display: flex;
            align-items: center;
            gap: 10px;
            background-color: #2a2a2a;
            padding: 8px 15px;
            border-radius: 20px;
            font-size: 16px;
            color: var(--light-text-color);
            border: 1px solid #444;
            box-shadow: 0 0 10px rgba(0,0,0,0.3);
            white-space: nowrap;
        }

        .online-users-icon {
            color: var(--primary-color);
            font-size: 20px;
            animation: pulse-online 2s infinite;
        }

        @keyframes pulse-online {
            0% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
            100% { transform: scale(1); opacity: 1; }
        }

        /* Categories Navigation */
        .categories {
            background-color: #1a1a1a;
            padding: 15px 30px; /* –£–≤–µ–ª–∏—á–µ–Ω –ø–∞–¥–¥–∏–Ω–≥ */
            box-shadow: inset 0 -2px 0 #333;
        }
        .categories ul {
            list-style: none;
            display: flex;
            flex-wrap: nowrap;
            overflow-x: auto;
            gap: 20px; /* –£–≤–µ–ª–∏—á–µ–Ω –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ */
            margin: 0;
            padding: 0;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: thin; /* –î–ª—è Firefox */
            scrollbar-color: var(--primary-color) #333; /* –î–ª—è Firefox */
        }
        .categories ul::-webkit-scrollbar {
            height: 8px;
        }
        .categories ul::-webkit-scrollbar-thumb {
            background-color: var(--primary-color);
            border-radius: 10px;
        }
        .categories ul::-webkit-scrollbar-track {
            background-color: #333;
        }
        .categories li a {
            color: var(--primary-color);
            font-weight: bold;
            text-decoration: none;
            font-size: 16px; /* –£–≤–µ–ª–∏—á–µ–Ω —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
            padding: 8px 15px; /* –£–≤–µ–ª–∏—á–µ–Ω –ø–∞–¥–¥–∏–Ω–≥ */
            border-radius: 25px; /* –ë–æ–ª—å—à–∏–π —Ä–∞–¥–∏—É—Å */
            transition: background 0.2s, color 0.2s, transform 0.2s;
            white-space: nowrap;
        }
        .categories li a:hover,
        .categories li a.active {
            background-color: var(--primary-color);
            color: var(--dark-text-color);
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(255, 102, 0, 0.4);
        }

        .categories li a.premium {
            color: gold;
            font-weight: 900;
            animation: blink 1.4s infinite;
            text-shadow: 0 0 8px gold;
        }

        @keyframes blink {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.4; }
        }

        /* Gallery */
        .gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); /* –ß—É—Ç—å –±–æ–ª—å—à–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä */
            gap: 22px; /* –£–≤–µ–ª–∏—á–µ–Ω –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ */
            padding: 30px 35px; /* –£–≤–µ–ª–∏—á–µ–Ω –ø–∞–¥–¥–∏–Ω–≥ */
            max-width: 1300px; /* –£–≤–µ–ª–∏—á–µ–Ω–∞ –º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */
            margin: 0 auto;
        }

        .card {
            background-color: var(--card-bg);
            border-radius: 15px; /* –ë–æ–ª—å—à–∏–π —Ä–∞–¥–∏—É—Å */
            box-shadow: 0 0 15px rgba(255, 102, 0, 0.3); /* –ë–æ–ª–µ–µ –º—è–≥–∫–∞—è —Ç–µ–Ω—å */
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex; /* –î–ª—è –ª—É—á—à–µ–≥–æ –∫–æ–Ω—Ç—Ä–æ–ª—è —Å–æ–¥–µ—Ä–∂–∏–º—ã–º */
            flex-direction: column;
        }
        .card:hover {
            transform: translateY(-5px) scale(1.02); /* –≠—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
            box-shadow: 0 5px 25px var(--primary-color), 0 0 40px #ff9900;
        }
        .card img {
            width: 100%;
            height: 200px; /* –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è –≤—ã—Å–æ—Ç–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π */
            object-fit: cover; /* –û–±—Ä–µ–∑–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, —á—Ç–æ–±—ã –æ–Ω–æ –ø–æ–º–µ—Å—Ç–∏–ª–æ—Å—å */
            display: block;
            border-bottom: 1px solid #333;
        }
        .card h3 {
            font-size: 18px; /* –£–≤–µ–ª–∏—á–µ–Ω —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
            font-weight: 700;
            margin: 15px 18px 8px; /* –£–≤–µ–ª–∏—á–µ–Ω –ø–∞–¥–¥–∏–Ω–≥ */
            color: var(--primary-color);
            text-overflow: ellipsis; /* –î–æ–±–∞–≤–ª–µ–Ω–æ –º–Ω–æ–≥–æ—Ç–æ—á–∏–µ –¥–ª—è –¥–ª–∏–Ω–Ω—ã—Ö –Ω–∞–∑–≤–∞–Ω–∏–π */
            white-space: nowrap;
            overflow: hidden;
        }
        .card .actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 18px 15px; /* –£–≤–µ–ª–∏—á–µ–Ω –ø–∞–¥–¥–∏–Ω–≥ */
            margin-top: auto; /* –ü—Ä–∏–∂–∏–º–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è –∫ –Ω–∏–∑—É –∫–∞—Ä—Ç–æ—á–∫–∏ */
        }
        .card .btn {
            background-color: transparent;
            border: none;
            color: var(--primary-color);
            cursor: pointer;
            font-size: 15px;
            padding: 5px 0;
            transition: color 0.2s, text-decoration 0.2s;
        }
        .card .btn:hover {
            color: #ff9900;
            text-decoration: underline;
        }
        .like-section {
            display: flex;
            align-items: center;
            gap: 8px; /* –£–≤–µ–ª–∏—á–µ–Ω –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ */
        }
        .like-btn {
            font-size: 20px; /* –ò–∫–æ–Ω–∫–∞ –ª–∞–π–∫–∞ –±–æ–ª—å—à–µ */
            color: #ccc; /* –ò–∑–Ω–∞—á–∞–ª—å–Ω—ã–π —Ü–≤–µ—Ç */
            transition: color 0.2s;
        }
        .like-btn.liked {
            color: red; /* –¶–≤–µ—Ç –ø—Ä–∏ –ª–∞–π–∫–µ */
            filter: drop-shadow(0 0 5px red);
        }
        .like-count {
            font-size: 15px;
            color: var(--light-text-color);
        }
        .woman-emoji {
            font-size: 1.3em; /* –†–∞–∑–º–µ—Ä —Å–º–∞–π–ª–∏–∫–∞ */
            margin-left: 8px; /* –û—Ç—Å—Ç—É–ø –æ—Ç –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
            vertical-align: middle;
            filter: drop-shadow(0 0 5px #ff6600); /* –ù–µ–±–æ–ª—å—à–∞—è —Ç–µ–Ω—å */
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 9999;
            left: 0;
            top: 0;
            width: 100vw;
            height: 100vh;
            background-color: rgba(18, 18, 18, 0.98); /* –ë–æ–ª–µ–µ —Ç–µ–º–Ω—ã–π —Ñ–æ–Ω */
            opacity: 0;
            pointer-events: none;
            overflow: hidden;
            transition: opacity 0.3s ease-out;
        }

        .modal.open {
            display: block;
            opacity: 1;
            pointer-events: auto;
        }

        .modal-content-wrapper {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
        }

        .modal-content {
            border-radius: 18px; /* –ë–æ–ª—å—à–∏–π —Ä–∞–¥–∏—É—Å */
            box-shadow: 0 0 40px var(--primary-color); /* –ë–æ–ª–µ–µ —Å–∏–ª—å–Ω–∞—è —Ç–µ–Ω—å */
            transform-origin: top left;
            position: absolute;
            object-fit: contain;
            will-change: transform, width, height, top, left;
        }

        .close {
            position: absolute;
            top: 25px; /* –ß—É—Ç—å –Ω–∏–∂–µ */
            right: 45px; /* –ß—É—Ç—å –ª–µ–≤–µ–µ */
            color: var(--primary-color);
            font-size: 48px; /* –ë–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä */
            font-weight: 900;
            cursor: pointer;
            z-index: 10;
            opacity: 0;
            transition: opacity 0.2s ease-in 0.3s, transform 0.2s ease;
            text-shadow: 0 0 10px var(--primary-color);
        }
        .close:hover {
            color: #ff9900;
            transform: scale(1.1);
        }

        .modal.open .close {
            opacity: 1;
        }

        /* Chat Styles */
        #chat-toggle-btn {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background-color: var(--primary-color);
            color: var(--dark-text-color);
            border: none;
            border-radius: 50%;
            width: 65px; /* –ë–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä */
            height: 65px; /* –ë–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä */
            font-size: 30px; /* –ë–æ–ª—å—à–µ –∏–∫–æ–Ω–∫–∞ */
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 0 25px rgba(255, 102, 0, 0.8);
            transition: transform 0.3s ease, background-color 0.3s ease, box-shadow 0.3s ease;
            z-index: 1000;
        }

        #chat-toggle-btn:hover {
            transform: scale(1.15) rotate(5deg); /* –î–æ–±–∞–≤–ª–µ–Ω–∞ –Ω–µ–±–æ–ª—å—à–∞—è —Ä–æ—Ç–∞—Ü–∏—è */
            background-color: #e65c00;
            box-shadow: 0 0 35px rgba(255, 102, 0, 0.9);
        }

        /* Nod32 Bot Styles */
        .nod32-bot {
            position: fixed;
            bottom: 110px; /* –ù–∞–¥ –∫–Ω–æ–ø–∫–æ–π —á–∞—Ç–∞ */
            right: 40px; /* –ü—Ä–∞–≤–µ–µ –æ—Ç —á–∞—Ç–∞, —á—Ç–æ–±—ã –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É —á–∞—Ç–∞ –∫–æ–≥–¥–∞ —á–∞—Ç –∑–∞–∫—Ä—ã—Ç */
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            z-index: 998; /* –ß—É—Ç—å –Ω–∏–∂–µ –∫–Ω–æ–ø–∫–∏ —á–∞—Ç–∞, –Ω–æ –≤—ã—à–µ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
            opacity: 0; /* –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ —Å–∫—Ä—ã—Ç */
            transform: translateY(20px); /* –ò–∑–Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –¥–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ */
            transition: opacity 0.5s ease-out, transform 0.5s ease-out;
        }

        .nod32-bot.show {
            opacity: 1;
            transform: translateY(0);
        }

        .nod32-bot img {
            /* –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω —Ä–∞–∑–º–µ—Ä 300x200px –∫–∞–∫ –≤—ã –ø—Ä–æ—Å–∏–ª–∏ */
            width: 300px;
            height: 200px;
            border-radius: 10%; /* –ù–µ–º–Ω–æ–≥–æ –∑–∞–∫—Ä—É–≥–ª–µ–Ω–Ω—ã–µ —É–≥–ª—ã –¥–ª—è –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–æ–π –∫–∞—Ä—Ç–∏–Ω–∫–∏ */
            object-fit: cover; /* –û–±—Ä–µ–∑–∞—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, —á—Ç–æ–±—ã –æ–Ω–æ –ø–æ–º–µ—Å—Ç–∏–ª–æ—Å—å, —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ */
            border: 3px solid var(--primary-color);
            box-shadow: 0 0 15px var(--primary-color), 0 0 30px rgba(255,102,0,0.6); /* –û—Ä–∞–Ω–∂–µ–≤–æ–µ —Å–≤–µ—á–µ–Ω–∏–µ */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            animation: pulse-online 2s infinite; /* –≠—Ñ—Ñ–µ–∫—Ç "–¥—ã—Ö–∞–Ω–∏—è" */
        }

        .nod32-bot:hover img {
            transform: scale(1.03); /* –£–º–µ–Ω—å—à–µ–Ω —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏, —á—Ç–æ–±—ã –Ω–µ —Å–∏–ª—å–Ω–æ –∏—Å–∫–∞–∂–∞—Ç—å */
            box-shadow: 0 0 20px var(--primary-color), 0 0 40px rgba(255,102,0,0.8);
        }

        /* New animation for "talking" */
        @keyframes talking {
            0% { transform: scale(1); }
            50% { transform: scale(1.02); } /* –ù–µ–º–Ω–æ–≥–æ —É–º–µ–Ω—å—à–∏–ª –º–∞—Å—à—Ç–∞–± –¥–ª—è –±–æ–ª–µ–µ —Ç–æ–Ω–∫–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏ —Ä–µ—á–∏ */
            100% { transform: scale(1); }
        }

        .nod32-bot.talking img {
            animation: talking 0.6s infinite alternate, pulse-online 2s infinite; /* Combine talking and pulse */
        }

        .nod32-bot span {
            margin-top: 5px;
            font-size: 14px;
            font-weight: bold;
            color: var(--light-text-color);
            text-shadow: 0 0 5px rgba(0,0,0,0.5);
        }

        #chat-container {
            position: fixed;
            bottom: 110px; /* –û—Ç—Å—Ç—É–ø –æ—Ç –∫–Ω–æ–ø–∫–∏ */
            right: 30px;
            width: 380px; /* –®–∏—Ä–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
            height: 500px; /* –í—ã—à–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
            background-color: #1a1a1a;
            border-radius: 15px; /* –ë–æ–ª—å—à–∏–π —Ä–∞–¥–∏—É—Å */
            box-shadow: 0 0 35px rgba(255, 102, 0, 0.8);
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transform: translateY(30px) scale(0.85); /* –ß—É—Ç—å –±–æ–ª—å—à–µ –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–º–µ—â–µ–Ω–∏–µ –∏ –º–µ–Ω—å—à–µ —Ä–∞–∑–º–µ—Ä */
            opacity: 0;
            visibility: hidden;
            transition: transform 0.4s cubic-bezier(0.68, -0.55, 0.27, 1.55), opacity 0.3s ease, visibility 0.3s ease; /* –î–æ–±–∞–≤–ª–µ–Ω–∞ –±–æ–ª–µ–µ –∏–Ω—Ç–µ—Ä–µ—Å–Ω–∞—è –∫—Ä–∏–≤–∞—è –∞–Ω–∏–º–∞—Ü–∏–∏ */
            z-index: 999;
        }

        #chat-container.open {
            transform: translateY(0) scale(1);
            opacity: 1;
            visibility: visible;
        }

        #chat-header {
            background-color: var(--primary-color);
            color: var(--dark-text-color);
            padding: 18px; /* –£–≤–µ–ª–∏—á–µ–Ω –ø–∞–¥–¥–∏–Ω–≥ */
            font-weight: bold;
            font-size: 20px; /* –ë–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
            border-top-left-radius: 15px;
            border-top-right-radius: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        #chat-close-btn {
            background: none;
            border: none;
            color: var(--dark-text-color);
            font-size: 28px; /* –ë–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä */
            cursor: pointer;
            transition: color 0.2s ease, transform 0.2s ease;
        }

        #chat-close-btn:hover {
            color: #333;
            transform: rotate(90deg);
        }

        #chat-messages {
            flex-grow: 1;
            padding: 15px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 12px; /* –£–≤–µ–ª–∏—á–µ–Ω –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ */
            background-color: #1f1f1f;
            scrollbar-width: thin;
            scrollbar-color: var(--primary-color) #2a2a2a;
        }
        #chat-messages::-webkit-scrollbar {
            width: 8px;
        }
        #chat-messages::-webkit-scrollbar-thumb {
            background-color: var(--primary-color);
            border-radius: 10px;
        }
        #chat-messages::-webkit-scrollbar-track {
            background-color: #2a2a2a;
        }

        .message {
            padding: 12px 18px; /* –£–≤–µ–ª–∏—á–µ–Ω –ø–∞–¥–¥–∏–Ω–≥ */
            border-radius: 18px; /* –ë–æ–ª—å—à–∏–π —Ä–∞–¥–∏—É—Å */
            max-width: 85%; /* –ß—É—Ç—å –±–æ–ª—å—à–µ —à–∏—Ä–∏–Ω–∞ */
            word-wrap: break-word;
            font-size: 15px; /* –ß—É—Ç—å –±–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .message.user {
            align-self: flex-end;
            background-color: var(--primary-color);
            color: var(--dark-text-color);
            border-bottom-right-radius: 8px; /* –ë–æ–ª–µ–µ –æ–∫—Ä—É–≥–ª—ã–π —É–≥–æ–ª */
        }

        .message.ai {
            align-self: flex-start;
            background-color: #333;
            color: var(--light-text-color);
            border-bottom-left-radius: 8px; /* –ë–æ–ª–µ–µ –æ–∫—Ä—É–≥–ª—ã–π —É–≥–æ–ª */
        }

        .message.loading {
            align-self: flex-start;
            background-color: #333;
            color: #eee;
            border-bottom-left-radius: 8px;
            font-style: italic;
            opacity: 0.8;
            animation: pulse 1.5s infinite ease-in-out;
        }
        @keyframes pulse {
            0% { opacity: 0.8; }
            50% { opacity: 0.5; }
            100% { opacity: 0.8; }
        }

        #chat-input-container {
            display: flex;
            padding: 15px;
            border-top: 1px solid #333;
            background-color: #1a1a1a;
        }

        #chat-input {
            flex-grow: 1;
            padding: 12px 18px; /* –£–≤–µ–ª–∏—á–µ–Ω –ø–∞–¥–¥–∏–Ω–≥ */
            border-radius: 25px; /* –ë–æ–ª–µ–µ –æ–∫—Ä—É–≥–ª—ã–π */
            border: 2px solid var(--primary-color);
            background-color: #2a2a2a;
            color: var(--light-text-color);
            font-size: 16px; /* –ë–æ–ª—å—à–µ —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */
            outline: none;
            margin-right: 12px;
            transition: all 0.3s ease;
        }
        #chat-input:focus {
            box-shadow: 0 0 10px var(--primary-color);
            border-color: #ff8800;
        }

        #chat-send-btn {
            background-color: var(--primary-color);
            color: var(--dark-text-color);
            border: none;
            border-radius: 25px; /* –ë–æ–ª–µ–µ –æ–∫—Ä—É–≥–ª—ã–π */
            padding: 12px 20px; /* –£–≤–µ–ª–∏—á–µ–Ω –ø–∞–¥–¥–∏–Ω–≥ */
            font-size: 18px; /* –ë–æ–ª—å—à–µ –∏–∫–æ–Ω–∫–∞ */
            cursor: pointer;
            transition: background-color 0.2s ease, transform 0.2s ease;
        }

        #chat-send-btn:hover {
            background-color: #e65c00;
            transform: scale(1.05);
        }

        /* New Sections Styles */
        .section-title {
            text-align: center;
            font-size: 3em; /* –ö—Ä—É–ø–Ω–µ–µ –∑–∞–≥–æ–ª–æ–≤–æ–∫ */
            margin: 40px 0 20px;
            color: #fff; /* –ë–µ–ª—ã–π —Ü–≤–µ—Ç */
            text-shadow: 0 0 15px var(--primary-color); /* –¢–µ–Ω—å –æ—Ä–∞–Ω–∂–µ–≤–æ–≥–æ —Ü–≤–µ—Ç–∞ */
        }
        .section-description {
            text-align: center;
            font-size: 1.1em;
            color: #aaa;
            max-width: 800px;
            margin: 0 auto 40px;
        }

        /* Popular Section (example, could reuse .gallery) */
        .popular-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 22px;
            padding: 30px 35px;
            max-width: 1300px;
            margin: 0 auto;
        }

        /* New Reviews Submission Section */
        .submit-review-section {
            padding: 50px 30px;
            background-color: #1a1a1a;
            margin-top: 50px;
            box-shadow: inset 0 5px 15px rgba(0,0,0,0.5);
            text-align: center;
        }

        .review-form {
            max-width: 700px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 20px;
            background-color: #222;
            padding: 30px;
            border-radius: 12px;
            box-shadow: 0 0 20px rgba(255, 102, 0, 0.3);
        }

        .review-form input[type="text"],
        .review-form textarea {
            width: calc(100% - 24px); /* Adjust for padding */
            padding: 12px;
            border: 2px solid var(--primary-color);
            border-radius: 8px;
            background-color: #333;
            color: var(--light-text-color);
            font-size: 1em;
            transition: all 0.3s ease;
            resize: vertical; /* Allow vertical resizing for textarea */
        }

        .review-form input[type="text"]:focus,
        .review-form textarea:focus {
            box-shadow: 0 0 10px var(--primary-color);
            border-color: #ff8800;
            outline: none;
        }

        .review-form textarea {
            min-height: 120px;
        }

        .review-form .rating-input {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-top: 10px;
        }

        .review-form .rating-input input[type="radio"] {
            display: none; /* Hide default radio buttons */
        }

        .review-form .rating-input label {
            cursor: pointer;
            font-size: 2.2em; /* Large star size */
            color: #555; /* Default star color */
            transition: color 0.2s ease, transform 0.2s ease;
        }

        .review-form .rating-input label:hover,
        .review-form .rating-input label:hover ~ label {
            color: gold;
            transform: scale(1.1);
        }

        .review-form .rating-input input[type="radio"]:checked ~ label {
            color: gold;
        }

        .review-form button {
            background-color: var(--primary-color);
            color: var(--dark-text-color);
            border: none;
            padding: 15px 25px;
            border-radius: 30px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s ease, transform 0.3s ease, box-shadow 0.3s ease;
            margin-top: 20px;
        }

        .review-form button:hover {
            background-color: #e65c00;
            transform: translateY(-3px);
            box-shadow: 0 8px 20px rgba(255, 102, 0, 0.6);
        }
        
        /* Footer */
        footer {
            background: var(--header-bg);
            color: var(--light-text-color);
            padding: 40px 30px;
            text-align: center;
            box-shadow: 0 0 25px rgba(255, 102, 0, 0.7);
            margin-top: 50px;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            align-items: flex-start;
            gap: 30px;
            position: relative; /* –î–ª—è –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞ –∞–≤—Ç–æ—Ä–∞ */
            padding-bottom: 100px; /* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ç—Å—Ç—É–ø –¥–ª—è –±–ª–æ–∫–∞ –∞–≤—Ç–æ—Ä–∞ */
        }
        .footer-column {
            flex: 1;
            min-width: 200px;
            text-align: left;
        }
        .footer-column h4 {
            color: var(--primary-color);
            font-size: 1.4em;
            margin-bottom: 20px;
            border-bottom: 2px solid #333;
            padding-bottom: 10px;
        }
        .footer-column ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .footer-column ul li {
            margin-bottom: 10px;
        }
        .footer-column ul li a {
            color: #ccc;
            text-decoration: none;
            transition: color 0.2s ease;
        }
        .footer-column ul li a:hover {
            color: var(--primary-color);
        }
        .social-icons {
            margin-top: 20px;
        }
        .social-icons a {
            color: var(--primary-color);
            font-size: 2em;
            margin: 0 15px;
            transition: transform 0.2s ease, color 0.2s ease;
        }
        .social-icons a:hover {
            color: #ff9900;
            transform: scale(1.2);
        }
        .footer-bottom-text {
            width: 100%;
            margin-top: 40px;
            font-size: 0.9em;
            color: #aaa;
            border-top: 1px solid #333;
            padding-top: 20px;
        }

        /* Styles for the new author image */
        .site-author-info {
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 5px;
            padding: 10px 20px;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent); /* –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω */
            border-top-left-radius: 15px;
            border-top-right-radius: 15px;
            box-shadow: 0 -5px 20px rgba(255, 102, 0, 0.4);
            z-index: 50; /* –ß—Ç–æ–±—ã –±—ã—Ç—å –Ω–∞–¥ –¥—Ä—É–≥–∏–º–∏ —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –ø–æ–¥–≤–∞–ª–∞, –Ω–æ –ø–æ–¥ –æ—Å–Ω–æ–≤–Ω—ã–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º */
        }

        .site-author-info img {
            width: 500px; /* –†–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–≤—Ç–æ—Ä–∞ */
            height: 400px;
            border-radius: 10px; /* –ù–µ–±–æ–ª—å—à–æ–µ —Å–∫—Ä—É–≥–ª–µ–Ω–∏–µ —É–≥–ª–æ–≤ –¥–ª—è –ø—Ä—è–º–æ—É–≥–æ–ª—å–Ω–æ–π –∫–∞—Ä—Ç–∏–Ω–∫–∏ */
            border: 3px solid var(--primary-color);
            box-shadow: 0 0 15px rgba(255, 102, 0, 0.7);
            object-fit: cover; /* –û–±—Ä–µ–∑–∞–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ, —á—Ç–æ–±—ã –æ–Ω–æ –ø–æ–º–µ—Å—Ç–∏–ª–æ—Å—å, —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–æ–ø–æ—Ä—Ü–∏–∏ */
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .site-author-info img:hover {
            transform: scale(1.05); /* –ù–µ–º–Ω–æ–≥–æ —É–≤–µ–ª–∏—á–µ–Ω —ç—Ñ—Ñ–µ–∫—Ç –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
            box-shadow: 0 0 25px var(--primary-color), 0 0 40px #ff9900;
        }

        .site-author-info p {
            font-family: 'Montserrat', sans-serif;
            font-size: 1.1em; /* –£–≤–µ–ª–∏—á–µ–Ω —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ –∞–≤—Ç–æ—Ä–∞ */
            font-weight: bold;
            color: var(--primary-color); /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ –∫–∞–∫ –æ—Å–Ω–æ–≤–Ω–æ–π —Ü–≤–µ—Ç */
            margin: 0;
            text-shadow: 0 0 8px rgba(0,0,0,0.8);
            white-space: nowrap;
        }


        /* –ê–¥–∞–ø—Ç–∏–≤–Ω–æ—Å—Ç—å */
        @media (max-width: 1024px) {
            .gallery, .popular-gallery {
                grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
                padding: 20px 25px;
            }
            .search input {
                width: 250px;
            }
            .review-card { /* This rule is now orphaned as .review-card is removed */
                width: calc(50% - 25px);
            }
            .footer-column {
                flex-basis: 45%;
            }
            .site-author-info {
                bottom: 0; /* –û—Å—Ç–∞–µ—Ç—Å—è –Ω–∞ –¥–Ω–µ */
                width: auto; /* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —à–∏—Ä–∏–Ω–∞ */
                padding: 8px 15px;
            }
            .site-author-info img {
                width: 250px; /* –£–º–µ–Ω—å—à–∞–µ–º —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∞–≤—Ç–æ—Ä–∞ –¥–ª—è –ø–ª–∞–Ω—à–µ—Ç–æ–≤ */
                height: 200px;
            }
            .site-author-info p {
                font-size: 1em; /* –ù–µ–º–Ω–æ–≥–æ —É–º–µ–Ω—å—à–∞–µ–º —à—Ä–∏—Ñ—Ç –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ –∞–≤—Ç–æ—Ä–∞ */
            }
        }

        @media (max-width: 768px) {
            header {
                flex-direction: column;
                align-items: flex-start;
                padding: 15px 20px;
            }
            .logo {
                font-size: 36px;
                margin-bottom: 15px;
            }
            .search input {
                width: 100%;
                margin-bottom: 15px;
            }
            .logout-btn {
                width: 100%;
                text-align: center;
            }
            /* Adjust online users counter for smaller screens */
            .online-users-container {
                order: -1; /* Move to top of header on small screens */
                width: 100%;
                justify-content: center;
                margin-bottom: 15px;
                padding: 10px 15px;
            }
            .categories {
                padding: 10px 20px;
            }
            .categories li a {
                font-size: 14px;
                padding: 6px 10px;
            }
            .gallery, .popular-gallery {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                padding: 15px 20px;
            }
            .card h3 {
                font-size: 16px;
            }
            .card img {
                height: 180px;
            }
            #chat-container {
                width: 90vw;
                height: 70vh;
                right: 5vw;
                bottom: 90px;
            }
            #chat-toggle-btn {
                bottom: 20px;
                right: 20px;
                width: 55px;
                height: 55px;
                font-size: 24px;
            }
            /* Adjust Nod32 bot for smaller screens */
            .nod32-bot {
                bottom: 90px; /* –ù–∞–¥ –∫–Ω–æ–ø–∫–æ–π —á–∞—Ç–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
                right: 90px; /* –°–º–µ—Å—Ç–∏—Ç—å –≤–ª–µ–≤–æ, —á—Ç–æ–±—ã –Ω–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–æ–≤–∞—Ç—å —Å –∫–Ω–æ–ø–∫–æ–π —á–∞—Ç–∞ */
                flex-direction: row;
                gap: 5px;
                background-color: rgba(30, 30, 30, 0.8);
                padding: 8px 12px;
                border-radius: 25px;
                box-shadow: 0 0 10px rgba(255,102,0,0.5);
            }
            .nod32-bot img {
                width: 50px;
                height: 50px;
                border-width: 2px;
                box-shadow: none;
            }
            .nod32-bot span {
                font-size: 12px;
                margin-top: 0;
            }
            .close {
                top: 15px;
                right: 25px;
                font-size: 36px;
            }
            .section-title {
                font-size: 2.2em;
            }
            .section-description {
                font-size: 1em;
                margin-bottom: 30px;
            }
            .review-card { /* This rule is now orphaned as .review-card is removed */
                width: 90%; /* –û–¥–Ω–∞ –∫–∞—Ä—Ç–æ—á–∫–∞ –≤ —Ä—è–¥ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö */
                margin: 0 auto;
            }
            .review-card p { /* This rule is now orphaned as .review-card is removed */
                font-size: 1.05em; /* –í–û–ó–í–†–ê–©–ï–ù–û –ö –ò–°–•–û–î–ù–û–ú–£ –†–ê–ó–ú–ï–†–£ */
            }
            .review-card .author { /* This rule is now orphaned as .review-card is removed */
                font-size: 1.1em; /* –í–û–ó–í–†–ê–©–ï–ù–û –ö –ò–°–•–û–î–ù–û–ú–£ –†–ê–ó–ú–ï–†–£ */
            }
            .review-card .rating { /* This rule is now orphaned as .review-card is removed */
                font-size: 1.2em; /* –í–û–ó–í–†–ê–©–ï–ù–û –ö –ò–°–•–û–î–ù–û–ú–£ –†–ê–ó–ú–ï–†–£ */
            }
            footer {
                flex-direction: column;
                align-items: center;
                padding: 30px 20px;
            }
            .footer-column {
                width: 100%;
                text-align: center;
                margin-bottom: 20px;
            }
            .footer-column h4 {
                border-bottom: none;
                padding-bottom: 0;
                margin-bottom: 10px;
            }
            .social-icons a {
                font-size: 1.8em;
                margin: 0 10px;
            }
            .site-author-info {
                padding-top: 10px; /* –£–º–µ–Ω—å—à–∞–µ–º –æ—Ç—Å—Ç—É–ø –¥–ª—è –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
            }
            .site-author-info img {
                width: 180px; /* –ï—â–µ —É–º–µ–Ω—å—à–∞–µ–º –¥–ª—è –º–æ–±–∏–ª—å–Ω—ã—Ö */
                height: 140px;
            }
            .site-author-info p {
                font-size: 0.95em;
            }
        }

        @media (max-width: 480px) {
            .logo {
                font-size: 30px;
            }
            .search input {
                font-size: 15px;
                padding: 10px 15px;
            }
            .logout-btn {
                font-size: 14px;
                padding: 8px 15px;
            }
            .categories li a {
                font-size: 13px;
                padding: 5px 8px;
            }
            .gallery, .popular-gallery {
                grid-template-columns: repeat(auto-fit, minmax(160px, 1fr));
                gap: 15px;
            }
            .card img {
                height: 150px;
            }
            .card h3 {
                font-size: 14px;
            }
            .card .btn, .like-count {
                font-size: 13px;
            }
            .like-btn {
                font-size: 18px;
            }
            .woman-emoji {
                font-size: 1.1em;
            }
            #chat-container {
                width: 95vw;
                right: 2.5vw;
                bottom: 80px;
                height: 60vh;
            }
            #chat-toggle-btn {
                width: 50px;
                height: 50px;
                font-size: 22px;
            }
            .nod32-bot {
                bottom: 80px; /* –ù–∞–¥ –∫–Ω–æ–ø–∫–æ–π —á–∞—Ç–∞ –Ω–∞ —Å–∞–º—ã—Ö –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö */
                right: 80px;
            }
            #chat-header {
                font-size: 16px;
                padding: 12px;
            }
            #chat-close-btn {
                font-size: 22px;
            }
            .message {
                font-size: 13px;
                padding: 10px 15px;
            }
            #chat-input {
                font-size: 14px;
                padding: 8px 12px;
            }
            #chat-send-btn {
                font-size: 14px;
                padding: 8px 15px;
            }
            .section-title {
                font-size: 1.8em;
            }
            .review-card { /* This rule is now orphaned as .review-card is removed */
                padding: 20px;
            }
            .review-card p { /* This rule is now orphaned as .review-card is removed */
                font-size: 1.05em; /* –í–û–ó–í–†–ê–©–ï–ù–û –ö –ò–°–•–û–î–ù–û–ú–£ –†–ê–ó–ú–ï–†–£ */
            }
            .site-author-info img {
                width: 120px; /* –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –¥–ª—è –∞–≤—Ç–æ—Ä–∞ */
                height: 90px;
            }
            .site-author-info p {
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>

    <div id="disclaimer">
        <img src="22.gif" alt="Disclaimer">
    </div>

    <video class="smoke-video" autoplay loop muted>
        <source src="https://raw.githubusercontent.com/antareti/hackhub/main/smoke-loop.mp4" type="video/mp4">
    </video>

    <div class="spotlight left"></div>
    <div class="spotlight right"></div>

    <div id="cursor-light"></div>

    <header>
        <div class="logo">Hack<span>Hub</span></div>
        <div class="search">
            <input id="searchInput" type="text" placeholder="–ü–æ–∏—Å–∫...">
        </div>
        <div class="online-users-container">
            <i class="fas fa-users online-users-icon"></i>
            <span id="online-users-count">500</span> –æ–Ω–ª–∞–π–Ω
        </div>
        <button class="logout-btn" onclick="logout()">–í—ã–π—Ç–∏</button>
    </header>

    <nav class="categories">
        <ul>
            <li><a href="#" class="active">–ì–ª–∞–≤–Ω–∞—è</a></li>
            <li><a href="#">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏</a></li>
            <li><a href="#">–ù–æ–≤–æ–µ</a></li>
            <li><a href="#">–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ</a></li>
            <li><a href="#">–õ—É—á—à–µ–µ</a></li>
            <li><a href="#">GIF</a></li>
            <li><a href="#">VR</a></li>
            <li><a href="#">–ú–æ–¥–µ–ª—å –¥–Ω—è</a></li>
            <li><a href="video.html">üé• –í–∏–¥–µ–æ</a></li>
            <li><a href="#">–°–æ–æ–±—â–µ—Å—Ç–≤–æ</a></li> <li><a href="#">–ü–æ–¥–¥–µ—Ä–∂–∫–∞</a></li> <li><a href="premium.html" class="premium">üíé –ü—Ä–µ–º–∏—É–º</a></li>
        </ul>
    </nav>

    ---

    <h2 class="section-title">‚ú® –ì–∞–ª–µ—Ä–µ—è</h2>
    <p class="section-description">–ü–æ–≥—Ä—É–∑–∏—Ç–µ—Å—å –≤ –Ω–∞—à—É –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –ø–æ–ø–æ–ª–Ω—è—é—â—É—é—Å—è –∫–æ–ª–ª–µ–∫—Ü–∏—é –∑–∞—Ö–≤–∞—Ç—ã–≤–∞—é—â–∏—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π!</p>
    <section class="gallery" id="gallery"></section>

    ---

    <h2 class="section-title">üî• –ü–æ–ø—É–ª—è—Ä–Ω–æ–µ</h2>
    <p class="section-description">–û—Ü–µ–Ω–∏—Ç–µ —Å–∞–º—ã–µ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ–º—ã–µ –∏ –ø–æ–Ω—Ä–∞–≤–∏–≤—à–∏–µ—Å—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∑–∞ –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–µ–¥–µ–ª—é.</p>
    <section class="gallery popular-gallery" id="popular-gallery"></section>


    <div id="imageModal" class="modal">
        <div class="modal-content-wrapper">
            <span class="close" onclick="closeModal()">&times;</span>
            <img class="modal-content" id="modalImg" alt="–ü—Ä–æ—Å–º–æ—Ç—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è">
        </div>
    </div>

    <div class="nod32-bot" id="nod32-bot">
        <img src="image_0a257b.jpg" alt="AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç"> 
        <span>–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç</span>
    </div>

    <button id="chat-toggle-btn"><i class="fas fa-comment-dots"></i></button>

    <div id="chat-container">
        <div id="chat-header">
            AI –ê—Å—Å–∏—Å—Ç–µ–Ω—Ç
            <button id="chat-close-btn">&times;</button>
        </div>
        <div id="chat-messages">
            <div class="message ai">–ü—Ä–∏–≤–µ—Ç! –Ø AI –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç. –ß–µ–º –º–æ–≥—É –ø–æ–º–æ—á—å?</div>
        </div>
        <div id="chat-input-container">
            <input type="text" id="chat-input" placeholder="–í–≤–µ–¥–∏—Ç–µ –≤–∞—à–µ —Å–æ–æ–±—â–µ–Ω–∏–µ...">
            <button id="chat-send-btn"><i class="fas fa-paper-plane"></i></button>
        </div>
    </div>

    <footer>
        <div class="footer-column">
            <h4>–û –Ω–∞—Å</h4>
            <ul>
                <li><a href="#">–ù–∞—à–∞ –º–∏—Å—Å–∏—è</a></li>
                <li><a href="#">–ö–æ–º–∞–Ω–¥–∞</a></li>
                <li><a href="#">–ö–∞—Ä—å–µ—Ä–∞</a></li>
            </ul>
        </div>
        <div class="footer-column">
            <h4>–ü–æ–º–æ—â—å</h4>
            <ul>
                <li><a href="#">FAQ</a></li>
                <li><a href="#">–°–≤—è–∑–∞—Ç—å—Å—è —Å –Ω–∞–º–∏</a></li>
                <li><a href="#">–ü–æ–ª–∏—Ç–∏–∫–∞ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏</a></li>
                <li><a href="#">–£—Å–ª–æ–≤–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è</a></li>
            </ul>
        </div>
        <div class="footer-column">
            <h4>–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–µ—Ç–∏</h4>
            <div class="social-icons">
                <a href="#" target="_blank" aria-label="Facebook"><i class="fab fa-facebook-f"></i></a>
                <a href="#" target="_blank" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
                <a href="#" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                <a href="#" target="_blank" aria-label="YouTube"><i class="fab fa-youtube"></i></a>
            </div>
        </div>

        <section class="submit-review-section">
            <h2 class="section-title">–û—Å—Ç–∞–≤—å—Ç–µ —Å–≤–æ–π –æ—Ç–∑—ã–≤!</h2>
            <p class="section-description">–ú—ã —Ü–µ–Ω–∏–º –≤–∞—à–µ –º–Ω–µ–Ω–∏–µ –∏ –±—É–¥–µ–º —Ä–∞–¥—ã –ø–æ–ª—É—á–∏—Ç—å –≤–∞—à–∏ –æ—Ç–∑—ã–≤—ã –æ HackHub Gallery.</p>
            <form class="review-form" id="reviewForm">
                <input type="text" id="reviewerName" placeholder="–í–∞—à–µ –∏–º—è" required>
                <textarea id="reviewText" placeholder="–í–∞—à –æ—Ç–∑—ã–≤..." required></textarea>
                <div class="rating-input">
                    <input type="radio" id="star5" name="rating" value="5" required><label for="star5" class="fas fa-star"></label>
                    <input type="radio" id="star4" name="rating" value="4"><label for="star4" class="fas fa-star"></label>
                    <input type="radio" id="star3" name="rating" value="3"><label for="star3" class="fas fa-star"></label>
                    <input type="radio" id="star2" name="rating" value="2"><label for="star2" class="fas fa-star"></label>
                    <input type="radio" id="star1" name="rating" value="1"><label for="star1" class="fas fa-star"></label>
                </div>
                <button type="submit">–û—Ç–ø—Ä–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤</button>
            </form>
        </section>

        <div class="footer-bottom-text">
            &copy; 2025 HackHub. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã. <br> –°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è —Å–æ–æ–±—â–µ—Å—Ç–≤–∞.
        </div>
        <div class="site-author-info">
            <img src="6f022367-d0b5-4b17-9f28-ab5241bd277f.jpg" alt="–ê–≤—Ç–æ—Ä —Å–∞–π—Ç–∞">
            <p>–ê–≤—Ç–æ—Ä —Å–∞–π—Ç–∞ Fran.hesky De Mansera</p>
        </div>
    </footer>

    <script>
        window.onload = () => {
            const disclaimer = document.getElementById("disclaimer");
            disclaimer.classList.add("fade-out");
            setTimeout(() => {
                disclaimer.remove();
                document.getElementById('nod32-bot').classList.add('show'); // –ü–æ–∫–∞–∑–∞—Ç—å "–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞" –ø–æ—Å–ª–µ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è –¥–∏—Å–∫–ª–µ–π–º–µ—Ä–∞
            }, 1000);
        };

        const repoOwner = "antareti";
        const repoName = "hackhub";
        const folderPath = "images";
        const gallery = document.getElementById("gallery");
        const popularGallery = document.getElementById("popular-gallery"); // –ù–æ–≤–∞—è –≥–∞–ª–µ—Ä–µ—è –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö
        const searchInput = document.getElementById("searchInput");
        const modal = document.getElementById("imageModal");
        const modalImg = document.getElementById("modalImg");
        const modalWrapper = modal.querySelector('.modal-content-wrapper');
        let activeThumbnail;

        let cards = []; // –î–ª—è –æ—Å–Ω–æ–≤–Ω–æ–π –≥–∞–ª–µ—Ä–µ–∏
        let popularCards = []; // –î–ª—è –ø–æ–ø—É–ª—è—Ä–Ω–æ–π –≥–∞–ª–µ—Ä–µ–∏

        const femaleNames = [
            "–ê–Ω–Ω–∞", "–ï–ª–µ–Ω–∞", "–ú–∞—Ä–∏—è", "–û–ª—å–≥–∞", "–ù–∞—Ç–∞–ª—å—è", "–°–≤–µ—Ç–ª–∞–Ω–∞", "–¢–∞—Ç—å—è–Ω–∞", "–ò—Ä–∏–Ω–∞", "–ï–∫–∞—Ç–µ—Ä–∏–Ω–∞", "–î–∞—Ä—å—è",
            "–ê–Ω–∞—Å—Ç–∞—Å–∏—è", "–°–æ—Ñ–∏—è", "–í–∏–∫—Ç–æ—Ä–∏—è", "–ü–æ–ª–∏–Ω–∞", "–ö—Å–µ–Ω–∏—è", "–ê–ª–µ–∫—Å–∞–Ω–¥—Ä–∞", "–ï–ª–∏–∑–∞–≤–µ—Ç–∞", "–í–∞–ª–µ—Ä–∏—è", "–í–∞—Ä–≤–∞—Ä–∞", "–í–µ—Ä–æ–Ω–∏–∫–∞",
            "–Æ–ª–∏—è", "–ê–ª–∏–Ω–∞", "–ê—Ä–∏–Ω–∞", "–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞", "–ê–¥–µ–ª–∏–Ω–∞", "–ö–∏—Ä–∞", "–≠–≤–µ–ª–∏–Ω–∞", "–ó–ª–∞—Ç–∞", "–ú–∏–ª–∞–Ω–∞", "–î–∏–∞–Ω–∞"
        ];

        function getRandomFemaleName() {
            const randomIndex = Math.floor(Math.random() * femaleNames.length);
            return femaleNames[randomIndex];
        }

        function createCard(file, isPopular = false) {
            const card = document.createElement("div");
            card.className = "card";
            const displayedTitle = getRandomFemaleName();
            card.setAttribute('data-title', displayedTitle.toLowerCase());
            const imageUrl = `https://raw.githubusercontent.com/${repoOwner}/${repoName}/main/${folderPath}/${file.name}`;
            
            card.innerHTML = `
                <img src="${imageUrl}" alt="${file.name}" onclick="openModal('${imageUrl}', this)">
                <h3>${displayedTitle}</h3>
                <div class="actions">
                    <button class="btn" onclick="downloadImage('${imageUrl}')">–°–∫–∞—á–∞—Ç—å</button>
                    <div class="like-section">
                        <button class="btn like-btn" onclick="toggleLike('${file.name}')">
                            <i class="fas fa-heart"></i> </button>
                        <span id="like-count-${file.name}" class="like-count">0</span>
                    </div>
                    <span class="woman-emoji">üßç‚Äç‚ôÄÔ∏è</span>
                </div>
            `;
            return card;
        }

        function openModal(src, thumbnail) {
            activeThumbnail = thumbnail;
            activeThumbnail.style.opacity = '0'; 
            modal.classList.add('open');
            modalImg.src = src;

            const thumbRect = activeThumbnail.getBoundingClientRect();

            modalImg.style.width = `${thumbRect.width}px`;
            modalImg.style.height = `${thumbRect.height}px`;
            modalImg.style.left = `${thumbRect.left}px`;
            modalImg.style.top = `${thumbRect.top}px`;
            modalImg.style.opacity = '1';
            modalImg.style.transition = 'none';

            modalImg.offsetHeight; 

            const targetWidth = Math.min(window.innerWidth * 0.9, window.innerHeight * 0.8 * (modalImg.naturalWidth / modalImg.naturalHeight || 1));
            const targetHeight = Math.min(window.innerHeight * 0.8, window.innerWidth * 0.9 * (modalImg.naturalHeight / modalImg.naturalWidth || 1));

            const targetLeft = (window.innerWidth - targetWidth) / 2;
            const targetTop = (window.innerHeight - targetHeight) / 2;

            modalImg.style.transition = 'all 0.3s ease-out';
            modalImg.style.width = `${targetWidth}px`;
            modalImg.style.height = `${targetHeight}px`;
            modalImg.style.left = `${targetLeft}px`;
            modalImg.style.top = `${targetTop}px`;
        }

        function closeModal() {
            const modalRect = modalImg.getBoundingClientRect();
            const thumbRect = activeThumbnail.getBoundingClientRect();

            modalImg.style.transition = 'all 0.3s ease-in';
            modalImg.style.width = `${thumbRect.width}px`;
            modalImg.style.height = `${thumbRect.height}px`;
            modalImg.style.left = `${thumbRect.left}px`;
            modalImg.style.top = `${thumbRect.top}px`;
            modalImg.style.opacity = '0';

            modalImg.addEventListener('transitionend', function handler() {
                modal.classList.remove('open');
                modalImg.style.transition = 'none';
                modalImg.style.opacity = '0';
                if (activeThumbnail) {
                    activeThumbnail.style.opacity = '1';
                }
                modalImg.removeEventListener('transitionend', handler);
            });
        }

        function logout() {
            localStorage.removeItem("auth");
            window.location.href = "login.html";
        }

        function debounce(func, wait) {
            let timeout;
            return function(...args) {
                clearTimeout(timeout);
                timeout = setTimeout(() => func.apply(this, args), wait);
            };
        }

        function filterCards() {
            const query = searchInput.value.toLowerCase().trim();
            const allCards = [...cards, ...popularCards]; // –ò—Å–∫–∞—Ç—å –≤–æ –≤—Å–µ—Ö –∫–∞—Ä—Ç–æ—á–∫–∞—Ö
            if (!query) {
                allCards.forEach(card => card.style.display = "");
                return;
            }
            const terms = query.split(/\s+/);
            allCards.forEach(card => {
                const title = card.getAttribute("data-title");
                const match = terms.every(term => title.includes(term));
                card.style.display = match ? "" : "none";
            });
        }

        function downloadImage(url) {
            const link = document.createElement("a");
            link.href = url;
            link.download = url.split("/").pop();
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        function toggleLike(name) {
            const keyLiked = `like-${name}`;
            const keyCount = `like-count-${name}`;
            let liked = localStorage.getItem(keyLiked) === "true";
            liked = !liked;
            localStorage.setItem(keyLiked, liked);

            let count = parseInt(localStorage.getItem(keyCount) || "0");
            count = liked ? count + 1 : Math.max(0, count - 1);
            localStorage.setItem(keyCount, count);

            updateLikeDisplay(name);
        }

        function updateLikeDisplay(name) {
            const btn = document.querySelector(`.like-btn[onclick*="${name}"]`);
            const countElement = document.getElementById(`like-count-${name}`);
            const liked = localStorage.getItem(`like-${name}`) === "true";
            const count = localStorage.getItem(`like-count-${name}`) || "0";
            if (btn) btn.classList.toggle("liked", liked);
            if (countElement) countElement.textContent = count;
        }

        document.addEventListener("keydown", (e) => {
            if (e.key === "Escape") closeModal();
        });

        fetch(`https://api.github.com/repos/${repoOwner}/${repoName}/contents/${folderPath}`)
            .then(res => res.json())
            .then(data => {
                if (!Array.isArray(data)) throw new Error("–ù–µ–≤–µ—Ä–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö");
                
                // –ü–µ—Ä–µ–º–µ—à–∏–≤–∞–µ–º –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–ª—è —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏—è
                const shuffledData = data.sort(() => 0.5 - Math.random());

                shuffledData.forEach((file, index) => {
                    if (/\.(png|jpe?g|gif)$/i.test(file.name)) {
                        // –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ–º –ø–æ –≥–∞–ª–µ—Ä–µ—è–º: –ø–µ—Ä–≤—ã–µ 6 –¥–ª—è –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –¥–ª—è –æ—Å–Ω–æ–≤–Ω–æ–π
                        if (index < 6) { // –í—ã–±–∏—Ä–∞–µ–º –ø–µ—Ä–≤—ã–µ 6 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –¥–ª—è "–ü–æ–ø—É–ª—è—Ä–Ω–æ–µ"
                            const card = createCard(file, true);
                            popularGallery.appendChild(card);
                            popularCards.push(card);
                        } else {
                            const card = createCard(file);
                            gallery.appendChild(card);
                            cards.push(card);
                        }
                        updateLikeDisplay(file.name);
                    }
                });
            })
            .catch(err => {
                console.error("–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏:", err);
                gallery.innerHTML = "<p>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.</p>";
                popularGallery.innerHTML = "<p>–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –ø–æ–ø—É–ª—è—Ä–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π.</p>";
            });

        searchInput.addEventListener("input", debounce(filterCards, 300));

        const cursorLight = document.getElementById('cursor-light');
        window.addEventListener('mousemove', e => {
            cursorLight.style.top = e.clientY + 'px';
            cursorLight.style.left = e.clientX + 'px';
        });

        // --- Chat functionality ---
        const chatToggleBtn = document.getElementById('chat-toggle-btn');
        const chatContainer = document.getElementById('chat-container');
        const chatCloseBtn = document.getElementById('chat-close-btn');
        const chatMessages = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');
        const chatSendBtn = document.getElementById('chat-send-btn');
        const nod32Bot = document.getElementById('nod32-bot'); // –ü–æ–ª—É—á–∞–µ–º —ç–ª–µ–º–µ–Ω—Ç "–ê—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞"
        const nod32BotImg = nod32Bot.querySelector('img');

        const OPENROUTER_API_KEY = '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';
        const OPENROUTER_API_URL = 'https://openrouter.ai/api/v1/chat/completions';

        let chatHistory = [{ role: 'system', content: 'You are a helpful and friendly AI assistant for HackHub Gallery. Provide concise, encouraging, and enthusiastic answers. You can also give recommendations for categories or features. Your responses should be in Russian. Try to sound energetic and positive!' }];
        let isSendingMessage = false;

        // Speech synthesis setup
        const synth = window.speechSynthesis;
        let russianVoice = null;

        function setRussianVoice() {
            const voices = synth.getVoices();
            russianVoice = voices.find(voice => voice.lang === 'ru-RU' || voice.name.includes('Russian'));
            if (!russianVoice) {
                console.warn('Russian voice not found. Falling back to default.');
            }
        }

        // Load voices after they are available
        if (synth.onvoiceschanged !== undefined) {
            synth.onvoiceschanged = setRussianVoice;
        } else {
            setRussianVoice(); // Try to set immediately if event not supported (might be empty)
        }
        
        function speakText(text) {
            if (synth.speaking) {
                synth.cancel(); // Stop current speech if any
            }
            const utterance = new SpeechSynthesisUtterance(text);
            utterance.lang = 'ru-RU';
            if (russianVoice) {
                utterance.voice = russianVoice;
            }
            utterance.pitch = 1.0; // Standard pitch
            utterance.rate = 1.0;  // Standard rate
            synth.speak(utterance);

            // Add 'talking' class when speech starts
            utterance.onstart = () => {
                nod32Bot.classList.add('talking');
            };
            // Remove 'talking' class when speech ends
            utterance.onend = () => {
                nod32Bot.classList.remove('talking');
            };
            // Handle errors (e.g., if speech is interrupted)
            utterance.onerror = (event) => {
                console.error('SpeechSynthesisUtterance.onerror', event);
                nod32Bot.classList.remove('talking');
            };
        }

        // –í–∞—à —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —Ö–æ—Ç–∏—Ç–µ, —á—Ç–æ–±—ã –±–æ—Ç –≥–æ–≤–æ—Ä–∏–ª –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –æ—Ç–∫—Ä—ã—Ç–∏–∏ —á–∞—Ç–∞
        const initialGreetingText = `–ü—Ä–∏–≤–µ—Ç!
–¢—ã –Ω–∞ HackHub ‚Äî –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ –≤–∑—Ä–æ—Å–ª—ã–π –Ω–µ —Ç–æ–ª—å–∫–æ –ø–æ –ø–∞—Å–ø–æ—Ä—Ç—É.
–ó–¥–µ—Å—å —Å–æ–±—Ä–∞–Ω—ã –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –¥–ª—è –≤—Å–µ—Ö ‚Äî —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–µ—Ö, –∫—Ç–æ –∏—â–µ—Ç –±–æ–ª—å—à–µ, —á–µ–º –ø—Ä–æ—Å—Ç–æ —Ä–∞–∑–≤–ª–µ—á–µ–Ω–∏–µ:
‚Äî –æ—Ç–∫—Ä–æ–≤–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç 18+
‚Äî —É–º–Ω—ã–µ –±–µ—Å–µ–¥—ã –±–µ–∑ —Ç–∞–±—É
‚Äî —Å–≤–æ–±–æ–¥–∞ —Å–∞–º–æ–≤—ã—Ä–∞–∂–µ–Ω–∏—è –∏ —á–µ—Å—Ç–Ω—ã–µ –∂–µ–ª–∞–Ω–∏—è
‚Äî –≤—Å—ë, —á—Ç–æ –≤—ã—Ö–æ–¥–∏—Ç –∑–∞ —Ä–∞–º–∫–∏ –æ–±—ã—á–Ω—ã—Ö —Å–∞–π—Ç–æ–≤
–Ø ‚Äî —Ç–≤–æ–π –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç.
–ü–æ–º–æ–≥—É —Å–æ—Ä–∏–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å—Å—è, –Ω–∞–π—Ç–∏ –Ω—É–∂–Ω–æ–µ, –ø–æ–¥—Å–∫–∞–∑–∞—Ç—å –∏–Ω—Ç–µ—Ä–µ—Å–Ω–æ–µ. –ü—Ä–æ—Å—Ç–æ –∑–∞–¥–∞–π –≤–æ–ø—Ä–æ—Å.
–ó–¥–µ—Å—å —Ç–µ–±—è –Ω–∏–∫—Ç–æ –Ω–µ –æ—Å—É–¥–∏—Ç.
HackHub ‚Äî —ç—Ç–æ –ø—Ä–∏–≤–∞—Ç–Ω–æ–µ, –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –∏ –æ—Ç–∫—Ä—ã—Ç–æ–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ –¥–ª—è –≤–∑—Ä–æ—Å–ª—ã—Ö –ª—é–¥–µ–π, –∫–æ—Ç–æ—Ä—ã–µ –∑–Ω–∞—é—Ç, —á–µ–≥–æ —Ö–æ—Ç—è—Ç.`;

        let hasSpokenInitialGreeting = false; // –§–ª–∞–≥ –¥–ª—è –æ–¥–Ω–æ–∫—Ä–∞—Ç–Ω–æ–≥–æ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è

        chatToggleBtn.addEventListener('click', () => {
            chatContainer.classList.toggle('open');
            if (chatContainer.classList.contains('open')) {
                chatInput.focus();
                chatMessages.scrollTop = chatMessages.scrollHeight;
                
                if (!hasSpokenInitialGreeting) {
                    speakText(initialGreetingText);
                    hasSpokenInitialGreeting = true; 
                }
            } else {
                synth.cancel(); // Stop speaking if chat is closed
                nod32Bot.classList.remove('talking'); // Ensure talking animation stops
            }
        });

        chatCloseBtn.addEventListener('click', () => {
            chatContainer.classList.remove('open');
            synth.cancel(); // Stop speaking if chat is closed
            nod32Bot.classList.remove('talking'); // Ensure talking animation stops
        });

        // Event listener for Nod32 bot to open chat
        nod32Bot.addEventListener('click', () => {
            chatContainer.classList.add('open');
            chatInput.focus();
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            if (!hasSpokenInitialGreeting) {
                speakText(initialGreetingText);
                hasSpokenInitialGreeting = true; 
            }
        });

        chatSendBtn.addEventListener('click', sendMessage);
        chatInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter' && !e.shiftKey) {
                e.preventDefault();
                sendMessage();
            }
        });

        function appendMessage(sender, text, isLoading = false) {
            const messageDiv = document.createElement('div');
            messageDiv.classList.add('message', sender);
            messageDiv.textContent = text;
            if (isLoading) {
                messageDiv.classList.add('loading');
                nod32Bot.classList.add('talking'); // Start talking animation
            } else {
                // –ê–Ω–∏–º–∞—Ü–∏—è –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–µ–π speakText, –∫–æ–≥–¥–∞ —Ä–µ—á—å –∑–∞–∫–æ–Ω—á–µ–Ω–∞
                // –∏–ª–∏ –≤ finally –±–ª–æ–∫–µ sendMessage –ø—Ä–∏ –æ—à–∏–±–∫–µ
            }
            chatMessages.appendChild(messageDiv);
            chatMessages.scrollTop = chatMessages.scrollHeight;
            return messageDiv;
        }

        async function sendMessage() {
            const userMessage = chatInput.value.trim();
            if (!userMessage || isSendingMessage) return;

            appendMessage('user', userMessage);
            chatInput.value = '';
            isSendingMessage = true;

            chatHistory.push({ role: 'user', content: userMessage });

            const loadingMessage = appendMessage('ai', '–ü–µ—á–∞—Ç–∞–µ—Ç...', true);

            try {
                const requestBody = {
                    model: 'deepseek/deepseek-chat',
                    messages: chatHistory,
                    stream: false
                };
                console.log('–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∑–∞–ø—Ä–æ—Å –≤ OpenRouter API:', JSON.stringify(requestBody, null, 2));

                const response = await fetch(OPENROUTER_API_URL, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${OPENROUTER_API_KEY}`,
                        "HTTP-Referer": "https://antareti.github.io/hackhub/",
                        "X-Title": "HackHub Gallery"
                    },
                    body: JSON.stringify(requestBody)
                });

                if (!response.ok) {
                    let errorData;
                    try {
                        errorData = await response.json();
                        console.error('–û—à–∏–±–∫–∞ OpenRouter API (JSON):', errorData);
                    } catch (jsonError) {
                        errorData = { message: await response.text() };
                        console.error('–û—à–∏–±–∫–∞ OpenRouter API (—Ç–µ–∫—Å—Ç):', errorData.message);
                    }
                    const errorMessage = errorData.message || '–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –æ—à–∏–±–∫–∞ API.';
                    throw new Error(`–û—à–∏–±–∫–∞ OpenRouter API: ${response.status} ${response.statusText}. –î–µ—Ç–∞–ª–∏: ${errorMessage}`);
                }

                const data = await response.json();
                console.log('–û—Ç–≤–µ—Ç –æ—Ç OpenRouter API:', data);

                if (data && data.choices && data.choices.length > 0 && data.choices[0].message && data.choices[0].message.content) {
                    const aiResponseContent = data.choices[0].message.content;
                    loadingMessage.textContent = aiResponseContent;
                    loadingMessage.classList.remove('loading');
                    chatHistory.push({ role: 'assistant', content: aiResponseContent });
                    speakText(aiResponseContent); // Make the AI speak the response
                } else {
                    console.error('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∏–ª–∏ –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –æ—Ç OpenRouter API:', data);
                    throw new Error('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π –∏–ª–∏ –ø—É—Å—Ç–æ–π –æ—Ç–≤–µ—Ç –æ—Ç OpenRouter API.');
                }

            } catch (error) {
                console.error('–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å–æ–æ–±—â–µ–Ω–∏—è –≤ OpenRouter API:', error);
                loadingMessage.textContent = `–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞: ${error.message}. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –ø–æ–ø—Ä–æ–±—É–π—Ç–µ –µ—â–µ —Ä–∞–∑.`;
                loadingMessage.classList.remove('loading');
                loadingMessage.classList.add('error');
            } finally {
                isSendingMessage = false;
                // nod32Bot.classList.remove('talking'); // –≠—Ç–æ —É–∂–µ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –≤ speakText onend
            }
        }

        // --- Online Users Counter Logic ---
        const onlineUsersCountElement = document.getElementById('online-users-count');

        function updateOnlineUsersCount() {
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º —Å–ª—É—á–∞–π–Ω–æ–µ —á–∏—Å–ª–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ—Ç 100 –¥–æ 1000
            const randomCount = Math.floor(Math.random() * (1000 - 100 + 1)) + 100;
            onlineUsersCountElement.textContent = randomCount;
        }

        // –í—ã–∑—ã–≤–∞–µ–º —Ñ—É–Ω–∫—Ü–∏—é –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        updateOnlineUsersCount();

        // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫ –∫–∞–∂–¥—ã–µ 10 —Å–µ–∫—É–Ω–¥
        setInterval(updateOnlineUsersCount, 10000); // 10000 –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥ = 10 —Å–µ–∫—É–Ω–¥

        // Review Form Submission (Client-side only for now, would need backend for persistence)
        const reviewForm = document.getElementById('reviewForm');
        reviewForm.addEventListener('submit', function(event) {
            event.preventDefault(); // Prevent default form submission

            const reviewerName = document.getElementById('reviewerName').value;
            const reviewText = document.getElementById('reviewText').value;
            const rating = document.querySelector('input[name="rating"]:checked');

            if (!reviewerName || !reviewText || !rating) {
                alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –∏ –≤—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–π—Ç–∏–Ω–≥.');
                return;
            }

            const ratingValue = rating.value;

            // Here you would typically send this data to a server
            console.log('–û—Ç–∑—ã–≤ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω:', {
                name: reviewerName,
                text: reviewText,
                rating: ratingValue
            });

            alert('–°–ø–∞—Å–∏–±–æ –∑–∞ –≤–∞—à –æ—Ç–∑—ã–≤! –ú—ã —Ü–µ–Ω–∏–º –≤–∞—à–µ –º–Ω–µ–Ω–∏–µ.');

            // Clear the form
            reviewForm.reset();
            // Deselect stars
            const stars = document.querySelectorAll('.rating-input label');
            stars.forEach(star => star.style.color = '#555');
        });
    </script>
</body>
</html>
